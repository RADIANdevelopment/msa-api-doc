## Статистика
statistic.js

[Главная](README.md)  /  [Система управления производством](production.md)

### Получение статистики по количеству поступивших заказов

Для получения статистики по количеству поступивших заказов необходимо отправить **`GET`** запрос на **`/order_new_count/:start_date/:finish_date`**<br>

Пример ответа:<br>
```
[
    {
        "count": 3,
        "day": 27,
        "month": 8,
        "year": 2019
    },
    {
        "count": 1,
        "day": 30,
        "month": 8,
        "year": 2019
    },
    {
        "count": 1,
        "day": 29,
        "month": 8,
        "year": 2019
    }
]
```
Параметры:<br>
**start_date*** - Стартовая дата, от которой собираем статистику (например: '2019-08-01')<br>
**finish_date*** - Финальная дата, до которой собираем статистику (например: '2019-09-01')<br>

<br>

### Получение статистики по количеству переданных заказов в работу

Для получения статистики по количеству переданных заказов в работу необходимо отправить **`GET`** запрос на **`/order_work_count/:start_date/:finish_date`**<br>

Пример ответа:<br>
```
[
    {
        "count": 3,
        "day": 2,
        "month": 9,
        "year": 2019
    },
    {
        "count": 2,
        "day": 1,
        "month": 9,
        "year": 2019
    },
    {
        "count": 2,
        "day": 28,
        "month": 8,
        "year": 2019
    }
]
```
Параметры:<br>
**start_date*** - Стартовая дата, от которой собираем статистику (например: '2019-08-01')<br>
**finish_date*** - Финальная дата, до которой собираем статистику (например: '2019-09-01')<br>

<br>

### Получение статистики по количеству выполненных заказов

Для получения статистики по количеству выполненных заказов необходимо отправить **`GET`** запрос на **`/order_complete_count/:start_date/:finish_date`**<br>

Пример ответа:<br>
```
[
    {
        "count": 2,
        "day": 28,
        "month": 8,
        "year": 2019
    },
    {
        "count": 5,
        "day": 16,
        "month": 8,
        "year": 2019
    },
    {
        "count": 1,
        "day": 22,
        "month": 8,
        "year": 2019
    }
]
```
Параметры:<br>
**start_date*** - Стартовая дата, от которой собираем статистику (например: '2019-08-01')<br>
**finish_date*** - Финальная дата, до которой собираем статистику (например: '2019-09-01')<br>

<br>

### Получение статистики по выполненным заказам

Для получения статистики по выполненным заказам необходимо отправить **`GET`** запрос на **`/order_complete/:start_date/:finish_date`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "5d566b67bb30da43c87e323d",
        "name": "Chevrolet Aveo 2004-2011",
        "start_date": "16.08.2019 11:45:19",
        "finish_date": "16.08.2019 11:45:19"
    },
    {
        "_id": "5d5702dbbb30da43c87e3256",
        "name": "Fiat Albea 2002-2010",
        "start_date": "16.08.2019 15:38:49",
        "finish_date": "16.08.2019 15:38:49"
    },
    {
        "_id": "5d5864eee670ce075854ce88",
        "name": "Fiat Albea 2002-2010",
        "start_date": "16.08.2019 15:38:49",
        "finish_date": "16.08.2019 15:38:49"
    }
]
```
Параметры:<br>
**start_date*** - Стартовая дата, от которой собираем статистику (например: '2019-08-01')<br>
**finish_date*** - Финальная дата, до которой собираем статистику (например: '2019-09-01')<br>

<br>

### Получение статистики по количеству заказов

Для получения статистики по количеству заказов необходимо отправить **`GET`** запрос на **`/count_orders/:sort/:start_date/:finish_date`**<br>

Пример ответа:<br>
```
[
    {
        "count": 83,
        "name": "Hyundai"
    },
    {
        "count": 81,
        "name": "Lada"
    },
    {
        "count": 65,
        "name": "Renault"
    }
]
```
Параметры:<br>
**sort*** - Сортировка имеет 3 значения: 'generation' (сортировка по марке, модели, поколению), 'model' (сортировка по марке и модели), 'brand' (сортировка по марке) <br>
**start_date*** - Стартовая дата, от которой собираем статистику (например: '2019-08-01')<br>
**finish_date*** - Финальная дата, до которой собираем статистику (например: '2019-09-01')<br>

<br>

### Статистика по отработанному рабочему времени

Для получения статистики по отработанному рабочему времени **`GET`** запрос на **`/time_worked/:start_date/:finish_date`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "5d60e8427c76c66d9a16a36a",
        "name": "Людмила Дарабан",
        "items": null
    },
    {
        "_id": "5d60e8627c76c66d9a16a36c",
        "name": "Елена Сидякина",
        "items": null
    },
    {
        "_id": "5d61a182abf1fe315164d29f",
        "name": "Фадеев Руслан",
        "items": [
            {
                "_id": "60702f6161154a62a09b7466",
                "start": "2021-03-30T07:44:52.445Z",
                "finish": "2021-03-30T16:44:52.445Z"
            },
            {
                "_id": "60703024da52b75f1cb69ab4",
                "start": "2021-03-31T07:44:52.445Z",
                "finish": "2021-03-31T13:44:52.445Z"
            },
            {
                "_id": "607032dd15846421ac73c63c",
                "start": "2021-04-01T07:56:29.562Z",
                "finish": "2021-04-01T16:57:19.571Z"
            }
        ]
    }
]
```
Параметры:<br>
**start_date*** - Стартовая дата, от которой собираем статистику (например: '2019-08-01')<br>
**finish_date*** - Финальная дата, до которой собираем статистику (например: '2019-09-01')<br>