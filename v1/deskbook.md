## Справочники
deskbook.js

[Главная](README.md)  /  [Система управления производством](production.md)


### Получение списка справочников

Для получения списка справочников необходимо отправить **`GET`** запрос на **`/api/deskbook/:g_id`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "5cfd7f6af142a74ad523ae8a",
        "name": "Цвет отстрочки"
    },
    {
        "_id": "5cfd7fb7f142a74ad523ae8b",
        "name": "Отстрочка"
    }
]
```

Параметры:<br>
**g_id*** - Идентификатор группы<br>

<br>

### Получение справочника

Для получения списка справочника необходимо отправить **`GET`** запрос на **`/api/deskbook_info/:id`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "5cfd7beef142a74ad523ae88",
        "g_id": "614446f9fefff5bbd763132e",
        "name": "Дизайн",
        "value": [
            {
                "v_id": "5cfd7b960d50b14ad518dcb1",
                "name": "Classic",
                "argument": {
                    "price": 0
                }
            },
            {
                "v_id": "5cfd7bdf0d50b14ad518dcb2",
                "name": "Classic plus",
                "argument": {
                    "price": 0
                }
            }
        ]
    }
]
```

Параметры:<br>
**id*** - Идентификатор справочника<br>

<br>

### Создание справочника

Для создания нового справочника необходимо отправить **`POST`** запрос на **`/api/deskbook`**<br>

Пример отправки параметров:<br>
```
{
    "name": "Новый справочник",
    "g_id": "614446f9fefff5bbd763132e",
    "value":
    {
       "Table size": "1500 х 2400 мм",
       "Departure of a sleeve": "1200 мм",
       "Deck height": "250 мм",
       "Функция наддува": "Есть",
       "Вариатор скорости": "Есть"
    }
}
```

Ответ:<br> коды состояний 204 или 404.

<br>

### Редактирование справочника

Для редактирования справочника необходимо отправить **`PUT`** запрос на **`/api/deskbook`**<br>

Пример отправки параметров:<br>
```
{
    "_id": "6175ab9bb08f424286fe58b1",
    "name": "Новый справочник",
    "g_id": "614446f9fefff5bbd763132e",
    "value":
    {
       "Table size": "8500 х 2400 мм",
       "Departure of a sleeve": "1200 мм",
       "Deck height": "250 мм",
       "Функция наддува": "Есть",
       "Вариатор скорости": "Есть"
    }
}
```

Ответ:<br> коды состояний 204 или 404.

<br>

### Удаление справочника

Для удаления справочника необходимо отправить **`DELETE`** запрос на **`/api/deskbook/:id`**<br>

Параметры:<br>
**id*** - Идентификатор справочника<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Загрузка файла

Для загрузки файла необходимо отправить **`POST`** запрос на **`/api/file_load`**<br>

Параметры передаются как form-data:<br>
**folder*** - папка в которую будем загружать файл<br>
**file*** - загружаемый файл<br>

Ответ:<br> коды состояний 204 или 404.