## Материалы
material.js

[Главная](README.md)  /  [Система управления производством](production.md)

### Получение материалов

Для получения списка материалов необходимо отправить **`GET`** запрос на **`/api/material/:g_id`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "618e640bb05d2840612b4687",
        "g_id": "60a959e632a2dcd7f7ac8daf",
        "name": "Тестовый материал",
        "measure": "Метр квадратный",
        "description": "Нет описания"
    },
    {
        "_id": "618e65acb05d2840612b4689",
        "g_id": "60a959e632a2dcd7f7ac8daf",
        "name": "Тестовый материал",
        "measure": "сантиметры",
        "description": "нет описания"
    }
]
```

Параметры:<br>
**g_id*** - Идентификатор группы материалов<br>

<br>

### Получение материала

Для получения материала необходимо отправить **`GET`** запрос на **`/api/material_info/:id`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "618e65acb05d2840612b4689",
        "g_id": "60a959e632a2dcd7f7ac8daf",
        "name": "Тестовый материал",
        "measure": "сантиметры",
        "description": "нет описания",
        "value": {
            "тест": "тест"
        }
    }
]
```

Параметры:<br>
**id*** - Идентификатор материала<br>

<br>

### Создание нового материала

Для создания нового материала необходимо отправить **`POST`** запрос на **`/api/material`**<br>

Пример отправки параметров:<br>
```
{
    "mg_id":
    [
    	"5d754a01b128da140c95eed8",
    	"5d755e0dd4da3d467c5c2033"
    ],
    "name": "Карбон"
    "measure": "м.кв"
}
```

Параметры:<br>
**mg_id*** - Цепочка идентификаторов групп нового материала<br>
**name*** - Имя материала<br>
**measure** - Мера измерения (выбирается из статического списка)<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Редактирование материала

Для редактирования материала необходимо отправить **`PUT`** запрос на **`/api/material`**<br>

Пример отправки параметров:<br>
```
{
    "_id":"5cf6ebe496a76a6c5aadb18f",
    "mg_id":
    [
    	"5d754a01b128da140c95eed8",
    	"5d755e0dd4da3d467c5c2033"
    ],
    "name": "Карбон тестовый",
    "measure": "л."
}
```

Параметры:<br>
**id*** - Идентификатор материала<br>
**mg_id*** - Цепочка идентификаторов групп материала<br>
**name*** - Имя материала<br>
**measure** - Мера измерения (выбирается из статического списка)<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Удаление материала

Для удаления материала необходимо отправить **`DELETE`** запрос на **`/api/material/:id`**<br>

Параметры:<br>
**id*** - Идентификатор материала<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Получение цветов материала

Для получения цветов материала необходимо отправить **`GET`** запрос на **`/color/:id`**<br>

Пример ответа:<br>
```
[
    {
        "c_id": "5cf8126062eb21ed4ac7968e",
        "name": "Бордовый",
        "quantity": 36,
        "rate": 100
    },
    {
        "c_id": "5cf8128262eb21ed4ac7968f",
        "name": "Синий",
        "quantity": 32,
        "rate": 100
    },
    {
        "c_id": "5cf812ca62eb21ed4ac79690",
        "name": "Коричневый",
        "quantity": 60,
        "rate": 100
    }
]
```

Параметры:<br>
**id*** - Идентификатор материала<br>

<br>

### Создание нового цвета материала

Для создания нового цвета необходимо отправить **`POST`** запрос на **`/api/color`**<br>

Пример отправки параметров:<br>
```
{
    "_id": "5cf81334eb03a9ed4acd8e2d",
    "name": "Синий",
    "quantity": 26
}
```

Параметры:<br>
**_id*** - Идентификатор материала<br>
**name*** - Имя цвета<br>
**quantity*** - Количество<br>
**rate*** - Наценка<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Редактирование цвета материала

Для редактирования цвета материала необходимо отправить **`PUT`** запрос на **`/api/color`**<br>

Пример отправки параметров:<br>
```
{
    "_id":"5cf81334eb03a9ed4acd8e2d",
    "c_id":"60a6dc42040dca384cc75cfd",
    "name": "Жёлтый6",
    "quantity": 26,
    "rate": 21
}
```

Параметры:<br>
**_id*** - Идентификатор материала<br>
**c_id*** - Идентификатор цвета<br>
**name*** - Имя цвета<br>
**quantity*** - Количество<br>
**rate*** - Наценка<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Удаление цвета

Для удаления цвета необходимо отправить **`DELETE`** запрос на **`/api/color/:_id/:c_id`**<br>

Параметры:<br>
**_id*** - Идентификатор материала<br>
**c_id*** - Идентификатор цвета<br>

Ответ:<br> коды состояний 204 или 404.