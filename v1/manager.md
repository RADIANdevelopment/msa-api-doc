## Менеджеры
manager.js

[Главная](README.md)  /  [Документация по API](api.md)

### Получение списка менеджеров для группы

Для получения списка менеджеров необходимо отправить **`GET`** запрос на **`/api/manager/:g_id`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "5cf936d3792e90f84ad8d39b",
        "name": "Иван Петров",
        "client": [
            {
                "name": "Любовь Миланова"
            },
            {
                "name": "Жихарев Сергей"
            }
        ]
    },
    {
        "_id": "5cf938ac076f84f84a540c6b",
        "name": "Денис Рузаев",
        "client": [
            {
                "name": "Евгений Бакин"
            }
        ]
    },
    {
        "_id": "5cf938c1076f84f84a540c6c",
        "name": "Илья Кролевский",
        "client": [
            {
                "name": "Дубинин Антон"
            }
        ]
    }
]
```

<br>

### Получение менеджера

Для получения менеджера необходимо отправить **`GET`** запрос на **`/api/manager_id/:id`**<br>

Пример ответа:<br>
```
[
    {
        "_id": "5cf936d3792e90f84ad8d39b",
        "mg_id": "5cf931f0792e90f84ad8d399",
        "name": "Иван Петров",
        "dob": "1982-12-11T23:00:00.000Z",
        "gender": "male",
        "client": [
            "5cd6acd4ca9472beaa183775",
            "5ced92723e91ffd8f8328224"
        ],
        "contacts": {
            "phone": "8 (927) 600 90 80",
            "email": "malkova@mail.ru",
            "adress": "г. Пенза ул. Ленина 98 кв. 27"
        }
    }
]
```

Параметры:<br>
**id*** - Идентификатор менеджера<br>

<br>

### Создание нового менеджера

Для создания нового менеджера необходимо отправить **`POST`** запрос на **`/api/manager`**<br>

Пример отправки параметров:<br>
```
[
    {
        "mg_id" : "5cbc71fd631c979c2c5b274a",
        "name":"Фадеев Руслан",
        "dob": "1982-12-11T23:00:00.000+00:00",
        "gender": "male",
        "client":
        [
            "5cbc398f5e42968e114d6319"
        ],
        "contacts":
        {
            "phone":"8 (927) 600 90 80",
            "email":"malkova@mail.ru",
            "adress":"г. Пенза ул. Ленина 98 кв. 27"
        },
        "login": "Ruslan",
        "password": "576005"
    }
]
```

Параметры:<br>
**mg_id*** - Идентификатор группы нового менеджера<br>
**name*** - Имя менеджера<br>
**client*** - Массив идентификаторов клиентов менеджера<br>
**dob** - Дата рождения<br>
**gender** - Пол<br>
**phone** - Телефон<br>
**email** - Электронная почта<br>
**login*** - Логин<br>
**password*** - Пароль<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Редактирование менеджера

Для редактирования менеджера необходимо отправить **`PUT`** запрос на **`/api/manager`**<br>

Пример отправки параметров:<br>
```
[
    {
        "_id" : "5cf958d1ab31a523c1f308b4",
        "mg_id" : "5cbc71fd631c979c2c5b274a",
        "name":"Фадеев Руслан1",
        "dob": "1982-12-11T23:00:00.000+00:00",
        "gender": "male",
        "client":
        [
            "5cbc398f5e42968e114d6319"
        ],
        "contacts":
        {
            "phone":"8 (927) 600 90 80",
            "email":"malkova@mail.ru",
            "adress":"г. Пенза ул. Ленина 98 кв. 27"
        }
    }
]
```

Параметры:<br>
**_id*** - Идентификатор менеджера<br>
**wg_id*** - Идентификатор группы нового менеджера<br>
**name*** - Имя менеджера<br>
**operation*** - Массив идентификаторов клиентов менеджера<br>
**dob** - Дата рождения<br>
**gender** - Пол<br>
**phone** - Телефон<br>
**email** - Электронная почта<br>
**login*** - Логин<br>
**password*** - Пароль<br>

Ответ:<br> коды состояний 204 или 404.

<br>

### Удаление менеджера

Для удаления менеджера необходимо отправить **`DELETE`** запрос на **`/api/manager/:id`**<br>

Параметры:<br>
**id*** - Идентификатор менеджера<br>

Ответ:<br> коды состояний 204 или 404.
